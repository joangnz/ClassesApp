#include "Selection.h"

using namespace std;

int Selection::_page = -1;

// getters
int Selection::getPage() {
	return _page;
}

// setters
void Selection::setPage(int page) {
	_page = page;
}

// methods
void Selection::printPage(int page) {
	switch (page) {
	case -1:
		cout << "  _    _           _           _        _        ______ _       _     _   _                _____ _           \n";
		cout << " | |  | |         | |         | |      | |      |  ____(_)     | |   | | (_)              / ____(_)          \n";
		cout << " | |  | |_ __   __| | ___ _ __| |_ __ _| | ___  | |__   _  __ _| |__ | |_ _ _ __   __ _  | (___  _ _ __ ___  \n";
		cout << " | |  | | '_ \\ / _` |/ _ \\ '__| __/ _` | |/ _ \\ |  __| | |/ _` | '_ \\| __| | '_ \\ / _` |  \\___ \\| | '_ ` _ \\ \n";
		cout << " | |__| | | | | (_| |  __/ |  | || (_| | |  __/ | |    | | (_| | | | | |_| | | | | (_| |  ____) | | | | | | |\n";
		cout << "  \\____/|_| |_|\\__,_|\\___|_|  \\,__\\__,_|_|\\___| |_|    |_|\\__, |_| |_|\\__|_|_| |_|\\__, | |_____/|_|_| |_| |_|\n";
		cout << "                                                           __/ |                   __/ |                     \n";
		cout << "                                                          |___/                   |___/                     \n";
		break;
	case 0:
		cout << "          ################## \n";
		cout << "      ##########################\n";
		cout << "    ################################\n";
		cout << "  ########  ########  ##############\n";
		cout << "  ######      ####    ####  ########\n";
		cout << "  ######                      ########\t\t  ______    _     _\n";
		cout << "########                      ##  ####\t\t |  ____|  (_)   | |\n";
		cout << "########  ####        ####        ####\t\t | |__ _ __ _ ___| | __\n";
		cout << "######                          ######\t\t |  __| '__| / __| |/ /\n";
		cout << "######          ####          ########\t\t | |  | |  | \\__ \\   <\n";
		cout << "########                  ############\t\t |_|  |_|  |_|___/_|\\_\\\n";
		cout << "############            ##############\n";
		cout << "  ##  ############    ##########    ##\n";
		cout << "                ##    ##      ## \n";
		cout << "        ######  ########  ######\n";
		cout << "      ##  ##                ######\n";
		cout << "    ##  ########################  ##\n";
		cout << "    ##  ##                    ##  ##\n";
		cout << "    ################################\n";
		cout << "    ##  ##                    ##  ##\n";
		cout << "    ######                    ###### \n";
		cout << "        ##      ##  ##        ## \n";
		cout << "            ######  ########\n";
		break;
	case 1:
		cout << "          ################## \n";
		cout << "      ##########################\n";
		cout << "    ################################\n";
		cout << "  ########  ########  ##############\n";
		cout << "  ######      ####    ####  ########\n";
		cout << "  ######                      ########\t\t   _____ _                     \n";
		cout << "########   ##          ##     ##  ####\t\t  / ____| |                    \n";
		cout << "########  ####        ####        ####\t\t | |    | |__   __ _ _ __ __ _ \n";
		cout << "######           .              ######\t\t | |    | '_ \\ / _` | '__/ _` |\n";
		cout << "######          ####          ########\t\t | |____| | | | (_| | | | (_| |\n";
		cout << "########                  ############\t\t  \\_____|_| |_|\\__,_|_|  \\__,_|\n";
		cout << "############            ##############\n";
		cout << "  ##  ############    ##########    ##\n";
		cout << "                ##    ##      ## \n";
		cout << "        ######  ########  ######\n";
		cout << "      ##  ##                ######\n";
		cout << "    ##  ##                    ##  ##\n";
		cout << "    ##  ##                    ##  ##\n";
		cout << "    ################################\n";
		cout << "    ##  ##                    ##  ##\n";
		cout << "    ######                    ###### \n";
		cout << "        ##      ##  ##        ## \n";
		cout << "            ######  ########\n";
		break;
	case 2:
		cout << "                ##################\n";
		cout << "            ####                  ####\n";
		cout << "          ##                          ##\n";
		cout << "          ##                          ##\n";
		cout << "        ##                              ##\n";
		cout << "        ##                    ######    ##\t   _____                 \n";
		cout << "        ##                    ######    ##\t  / ____|                \n";
		cout << "        ##    ######    ##    ######    ##\t | (___   __ _ _ __  ___ \n";
		cout << "          ##          ######          ##\t  \\___ \\ / _` | '_ \\/ __|\n";
		cout << "        ####  ##                  ##  ####\t  ____) | (_| | | | \\__ \\\n";
		cout << "        ##    ######################    ##\t |_____/ \\__,_|_| |_|___/\n";
		cout << "        ##      ##  ##  ##  ##  ##      ##\n";
		cout << "          ####    ##############    ####\n";
		cout << "        ##########              ##########\n";
		cout << "      ##  ##############################  ##\n";
		cout << "    ####  ##    ##      ##      ##    ##  ####\n";
		cout << "    ##      ##    ######  ######    ##      ##\n";
		cout << "  ##    ####  ######    ##    ######  ####    ##\n";
		cout << "  ##        ##    ##          ##    ##        ##\n";
		cout << "  ##          ##  ##          ##  ##          ##\n";
		cout << "    ##      ##    ####      ####    ##      ##\n";
		cout << "      ####  ##    ##          ##    ##  ####\n";
		cout << "        ######    ##############    ######\n";
		cout << "          ####    ##############    ####\n";
		cout << "        ##################################\n";
		cout << "        ################  ################\n";
		cout << "          ############      ############\n";
		cout << "      ######        ##      ##        ######\n";
		cout << "      ##          ####      ####          ##\n";
		cout << "        ##########              ##########\n";
		break;
	}
}

void Selection::nextPage() {
	system("cls");
	_page++;
	if (_page >= 3) {
		_page = 0;
	}

	cout << "   _____ _    _  ____   ____   _____ ______  __     ______  _    _ _____     _____ _    _          _____            _____ _______ ______ _____ \n";
	cout << "  / ____| |  | |/ __ \\ / __ \\ / ____|  ____| \\ \\   / / __ \\| |  | |  __ \\   / ____| |  | |   /\\   |  __ \\     /\\   / ____|__   __|  ____|  __ \\ \n";
	cout << " | |    | |__| | |  | | |  | | (___ | |__     \\ \\_/ / |  | | |  | | |__) | | |    | |__| |  /  \\  | |__) |   /  \\ | |       | |  | |__  | |__) |\n";
	cout << " | |    |  __  | |  | | |  | |\\___ \\|  __|     \\   /| |  | | |  | |  _  /  | |    |  __  | / /\\ \\ |  _  /   / /\\ \\| |       | |  |  __| |  _  / \n";
	cout << " | |____| |  | | |__| | |__| |____) | |____     | | | |__| | |__| | | \\ \\  | |____| |  | |/ ____ \\| | \\ \\  / ____ \\ |____   | |  | |____| | \\ \\ \n";
	cout << "  \\_____|_|  |_|\\____/ \\____/|_____/|______|    |_|  \\____/ \\____/|_|  \\_\\  \\_____|_|  |_/_/    \\_\\_|  \\_\\/_/    \\_\\_____|  |_|  |______|_|  \\_\\\n";
	cout << "\n\nPress Spacebar to select, press any key to see the next character.\nSkipping to next character in 5 seconds.\n\n\n";
	printPage(_page);
}

bool Selection::checkSelect(Characters& Player) {
	Utility::wait(1000);
	if (_kbhit()) {
		if (_getch() == ' ') {
			Player.setID(getPage());
			Player.setChosen(true);
			return true;
		}
		else {
			nextPage();
			return false;
		}
	}
	else return false;
}